<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>TayloyChen Blog | 这里是 TayloyChen 的个人博客，与你一起发现更大的世界 要做一个有 ikigai 的程序员</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="TayloyChen Blog" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="这里是 TayloyChen 的个人博客，与你一起发现更大的世界 要做一个有 ikigai 的程序员" />
<meta property="og:description" content="这里是 TayloyChen 的个人博客，与你一起发现更大的世界 要做一个有 ikigai 的程序员" />
<link rel="canonical" href="" />
<meta property="og:url" content="" />
<meta property="og:site_name" content="TayloyChen Blog" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="TayloyChen Blog" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"这里是 TayloyChen 的个人博客，与你一起发现更大的世界 要做一个有 ikigai 的程序员","headline":"TayloyChen Blog","name":"TayloyChen Blog","url":""}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="TayloyChen Blog" />
</head>
<link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicons/favicon.ico">
<body><header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">TayloyChen Blog</a>
    <nav class="site-nav">
      <a class="page-link" href="/">首页</a>
      <a class="page-link" href="/categories/">分类</a>
      <a class="page-link" href="/tags/">标签</a>
      <a class="page-link" href="/archives/">归档</a>
      <a class="page-link" href="/search/">搜索</a>
      <a class="page-link" href="/about/">关于</a>
    </nav>
  </div>
</header>


<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <h1>站内搜索</h1>
<input id="search-input" type="search" placeholder="输入关键词..." style="width:100%;padding:8px;">
<ul id="search-results"></ul>
<div id="search-empty" style="color:#888;margin-top:8px;display:none;">未找到结果</div>

<script src="https://cdn.jsdelivr.net/npm/lunr/lunr.min.js"></script>
<script>
(async function() {
  const canonical = document.querySelector('link[rel="canonical"]');
  const base = canonical && canonical.getAttribute('href') ? canonical.getAttribute('href') : '';
  let docs = [];
  try {
    const res = await fetch((base && base.endsWith('/') ? base.slice(0,-1) : (base || '')) + '/search.json');
    if (!res.ok) throw new Error('search.json load failed');
    docs = await res.json();
  } catch (e) {
    console.error('加载搜索索引失败', e);
    document.getElementById('search-empty').style.display = 'block';
    return;
  }

  const idx = lunr(function () {
    this.tokenizer.separator = /[\s\-_.:/?&=#%]+/;
    this.ref('url');
    this.field('title');
    this.field('content');
    docs.forEach(d => this.add({ url: d.url, title: d.title, content: d.content }));
  });

  const input = document.getElementById('search-input');
  const list = document.getElementById('search-results');
  const empty = document.getElementById('search-empty');

  const render = (items) => {
    list.innerHTML = '';
    if (!items || items.length === 0) { empty.style.display = 'block'; return; }
    empty.style.display = 'none';
    items.slice(0,20).forEach(item => {
      const doc = item.url ? item : docs.find(d => decodeURI(d.url) === decodeURI(item.ref));
      if (!doc) return;
      const li = document.createElement('li');
      li.innerHTML = `<a href="${doc.url}">${doc.title}</a>`;
      list.appendChild(li);
    });
  };

  const doSearch = () => {
    const q = input.value.trim();
    list.innerHTML = '';
    if (!q) { list.innerHTML = ''; empty.style.display = 'none'; return; }
    try {
      // 对中文做简易切词：按非字母数字分隔，并按每个字符做 OR 查询
      const ascii = /[\x00-\x7F]/.test(q);
      const tokens = ascii ? [q] : q.split(/[^\p{L}\p{N}]+/u).filter(Boolean);
      const query = tokens.length > 1 ? tokens.map(t => `${t}*`).join(' ') : `${q}*`;
      const hits = idx.search(query);
      if (hits && hits.length > 0) return render(hits);
    } catch (e) { /* ignore lunr parse errors */ }
    // 中文或解析失败时的回退：标题/正文包含匹配
    const qLower = q.toLowerCase();
    const fallback = docs.filter(d => {
      const inTitle = d.title && d.title.toLowerCase().includes(qLower);
      const inContent = d.content && d.content.toLowerCase().includes(qLower);
      const inUrl = d.url && (d.url.toLowerCase().includes(qLower) || decodeURI(d.url).toLowerCase().includes(qLower));
      return inTitle || inContent || inUrl;
    });
    render(fallback.map(d => ({ url: d.url, title: d.title })));
  };

  ['input', 'change', 'keyup', 'compositionend'].forEach(evt => input.addEventListener(evt, doSearch));
})();
</script>



      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">TayloyChen Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">TayloyChen Blog</li><li><a class="u-email" href="mailto:cherrycmd@gmail.com">cherrycmd@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/taylorchen"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">taylorchen</span></a></li><li><a href="https://www.twitter.com/shlchen"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">shlchen</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>这里是 TayloyChen 的个人博客，与你一起发现更大的世界 | 要做一个有 ikigai 的程序员</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
