---
title: "加密货币与代币经济：从模型设计到实操监控"
date: 2022-05-18
categories: [Web3]
tags: [代币经济, Tokenomics, AMM, 治理]
---

代币经济（Tokenomics）是协议可持续的核心约束。成功的设计既要有工程严谨性（参数/代码/可观测）也要有博弈论直觉（激励一致性/抗攻击）。本文从“发行→释放→流动性→治理→风控→监控看板”构建一套可落地的代币经济方法论，附上可复用的合约与脚本片段。

## 1. 发行与释放（Token Generation & Emission）
- 初始分配：团队/顾问/投资人/社区/金库比例；
- 释放曲线：线性/阶梯/里程碑触发，避免短期砸盘；
- 锁仓与归属（vesting）：可撤回与不可撤回的权衡；
- 二级市场前的“冷启动”：空投/任务/白名单+反女巫。

合约片段（Vesting）：
```solidity
contract Vesting {
  IERC20 public token; mapping(address=>uint256) public total; mapping(address=>uint256) public claimed; uint64 public start; uint64 public cliff; uint64 public duration;
  function claim() external { /* 线性释放，检查 cliff 后可领取 */ }
}
```

## 2. 治理与金库（Treasury）
- 治理代币与权重：一币一票/锁定加权/代表委托；
- 投票与执行：Snapshot+Governor，Timelock 管控；
- 金库支出：预算提案→投票→多签执行；
- 长期激励：生态基金、Grants、赏金计划。

## 3. 流动性与做市（AMM/CEX/MM）
- AMM：Uniswap v2（x*y=k）、v3 集中流动性（价格区间提供）；
- 初始流动性：金库注入与 LP 代币管理；
- 价稳策略：回购与销毁、协议费回流；
- 防闪崩：限价/时间加权平均（TWAP）价作为参考。

操作脚本（提供流动性）：
```js
// 使用 viem/ethers 调用路由合约添加流动性
```

## 4. 模型案例与参数
- 通胀模型：恒定/递减/事件触发；
- 双代币模型：治理代币 + 价值捕获代币（fee share/质押奖励）；
- 激励分配：按使用量/贡献度发放，反垃圾策略（行为签名/反女巫）；
- 费用结构：交易费/提取费/提前解锁罚金；
- 跨链发行：桥接与记账，避免双花。

## 5. 反女巫与合规
- 反女巫：PoH、社交图、设备/行为指纹、多维度阈值；
- 合规：KYC/AML、地区限制、证券属性评估；
- 法务协调：条款、风险披露、隐私策略。

## 6. 风控指标与告警
- 持仓集中度（头部地址占比）；
- 周转率与链上活跃度；
- 价格锚（预言机）与滑点监测；
- 资金流入/流出异常、跨链桥风险；
- 善意与恶意机器人占比（MEV/三明治）。

## 7. 仪表盘与数据源
- On-chain 指标：自建 ETL 或 dune/subsquid；
- 价格与流动性：The Graph、Coingecko API；
- 金库资产与支出：多签事件索引（Gnosis Safe）。

## 8. 运营节奏与迭代
- 周期性回顾：代币释放/通胀/金库余额/激励效果；
- 参数治理：SIP/提案流程，临时变更走紧急流程；
- 防御演练：闪崩/预言机异常/桥被攻击时的兜底方案。

## 9. 小结
代币经济的“好坏”，体现在能否让参与者激励一致并抵御攻击。用工程化手段（合约/脚本/看板/告警）让模型“可测量、可回滚、可演进”，才是真正可持续的路径。
